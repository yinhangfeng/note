```
很多文章介绍的差不多
http://www.jianshu.com/p/0acc12c29c1b
http://niorgai.github.io/2016/03/20/Android-transulcent-status-bar/

但都有一个问题 在api 21以上
同时设置
windowTranslucentStatus  
windowDrawsSystemBarBackgrounds 
statusBarColor
是没用的，因为设置了windowTranslucentStatus  之后就无法改变statusBarColor了,参考 :
http://stackoverflow.com/questions/22192291/how-to-change-the-status-bar-color-in-android
http://stackoverflow.com/questions/27856603/lollipop-draw-behind-statusbar-with-its-color-set-to-transparent



API 19开始有 
windowTranslucentStatus
windowTranslucentNavigation

对应代码
WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS  
WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION
用于设置系统栏透明并让内容可现实与系统栏下
statusbar的颜色为
API19从上到下的半透明渐变
API21以上一般为半透明，但有些系统是完全透明的(魅族)

API21开始有
windowDrawsSystemBarBackgrounds
statusBarColor
navigationBarColor
用于设置系统栏的颜色，可设为透明
不能跟windowTranslucentStatus同时使用，不然不起效果
使用windowDrawsSystemBarBackgrounds 属性后，如果要让界面可显示与系统栏下方，可代码设置
getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);
这时跟windowTranslucentStatus很像 (DrawLayout在设置fitsSystemWindows之后，其实就是内部做了添加View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN 的处理)，但无法达到 windowTranslucentNavigation效果 
需要研究一下如何使 Navigation透明，同时又可以设置颜色(使用 windowTranslucentNavigation 后无法设置颜色)


####重要####
windowTranslucentStatus 以及设置 View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN
之后都会引起键盘弹出时adjustResize无效，只有在布局的顶层View设置了fitsSystemWindows之后才能解决问题(不要在主题中设置fitsSystemWindows ,这会引起Toast的显示不正常，因为主题中的fitsSystemWindows 是针对Window的)


DrawLayout
1.通过setOnApplyWindowInsetsListener 获得Insets,并返回consumeSystemWindowInsets,将Insets全部消费
2.在onDraw时通过之前获取的Insests绘制顶部半透明遮罩
3.在onMeasure时将Insets原样传递给所有子View,而且在measure子View时也没有将Insets去除，所以相当于DrawLayout没有消费Insets,只是获取了Insets的信息用于绘制系统栏区域
NavigationView
1.NavigationView继承自ScrimInsetsFrameLayout，ScrimInsetsFrameLayout通过setOnApplyWindowInsetsListener获取Insets并返回consumeSystemWindowInsets，将Insets全部消费
2.在draw时绘制系统栏区域特定颜色
3.NavigationView中并无法获取Insets信息(已被ScrimInsetsFrameLayout消费，且相应变量为私有)，在布局时也无法考虑Insets，所以子View是会跑到系统栏下面的，通过AndroidStudio自动生成的例子中，
NavigationView的header顶部是通过设置的定死的padding来防止header内容跑到statusbar下面的，通过这个也可看到，api>=21时statusbar高度为32dp
```
